(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"8HkX":function(t,e,n){},"CE+d":function(t,e,n){},FEky:function(t,e,n){"use strict";n.r(e);var o=n("/MKj"),a=n("d5gM"),i=n("q1tI"),r=n.n(i),l=n("i8i4"),c=n.n(l),s=n("X82N"),d=n("Oaiu"),p=n("323L"),_=n("fuqr"),h=n("w2u0");n("8HkX");function u(){return u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},u.apply(this,arguments)}function g(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class m extends r.a.Component{constructor(t){var e;super(t),e=this,g(this,"calculate_style",(()=>{const{x:t,y:e}=this.props,n=Object(p.B)();return{top:e+10,left:n?8:t-100,width:n?window.innerWidth-20:200}})),g(this,"handle_click_delete",(()=>{this.props.handle_delete(this.props.annotation.id)})),g(this,"handle_share",(()=>{const{annotation:t,open_share_quote_modal:e,logged_in:n}=this.props;if(n)if(navigator.share){Object(p.U)("pdf:highlight:navigator_share");let e=document.location.href,n=a.default.t("webpack.doc_page.src.App.Page.annotations.AnnotationPopover.AnnotationPopover.annotation_text_page_annotation_page_nread_more",{annotation_text:t.text,annotation_page:t.page});const o=document.querySelector("link[rel=canonical]");null!==o&&(e=o.href),navigator.share({title:document.title,text:n,url:e})}else Object(p.U)("pdf:highlight:share_quote"),e(t);else this.handle_create_annotation(null,d.a.USER_ACTIONS.SHARE_QUOTE)})),g(this,"handle_update_working_note",(()=>{const{handle_update_working_note:t,open_note_modal:e,logged_in:n}=this.props;n?Object(p.B)()?e():t():this.handle_create_annotation(null,d.a.USER_ACTIONS.ADD_NOTE)})),g(this,"handle_create_annotation",(function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.a.USER_ACTIONS.HIGHLIGHT,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{annotation:a,x:i,y:r}=e.props;e.props.handle_create_annotation(n,a,i,r,o)})),g(this,"handle_create_highlight",(()=>{this.handle_create_annotation(null,d.a.USER_ACTIONS.HIGHLIGHT,!0)})),g(this,"render_highlight_button",(()=>this.props.is_working?r.a.createElement(s.O,{onClick:this.handle_create_highlight},a.default.t("webpack.doc_page.src.App.Page.annotations.AnnotationPopover.AnnotationPopover.highlight")):r.a.createElement(s.O,{onClick:this.handle_click_delete},a.default.t("webpack.doc_page.src.App.Page.annotations.AnnotationPopover.AnnotationPopover.delete")))),g(this,"render_content",(()=>r.a.createElement(h.a,u({id:"annotation_popover"},this.calculate_style()),r.a.createElement("ul",{className:"auto__doc_page_app_page_annotations_annotation_popover"},r.a.createElement("li",{className:"list_item"},this.render_highlight_button()),r.a.createElement("li",{className:"list_item"},r.a.createElement(s.O,{onClick:this.handle_update_working_note},a.default.t("webpack.doc_page.src.App.Page.annotations.AnnotationPopover.AnnotationPopover.add_note"))),r.a.createElement("li",{className:"list_item"},r.a.createElement(s.O,{onClick:this.handle_share},a.default.t("webpack.doc_page.src.App.Page.annotations.AnnotationPopover.AnnotationPopover.share_quote"))))))),g(this,"render",(()=>{let t=this.render_content();return c.a.createPortal(t,this.el)})),this.el=document.createElement("div")}componentDidMount(){Object(_.a)(this.props.annotation.page).appendChild(this.el)}componentWillUnmount(){Object(_.a)(this.props.annotation.page).removeChild(this.el)}}var f=n("d11g"),v=n("gYfH"),b=n("0O9T");e.default=Object(o.c)((t=>{let{annotations:e,selected:n,working:o,x:a,y:i}=t.annotations,r=-1===n;return{is_working:r,annotation:r?o:e[n],x:a,y:i,zoom:t.documentViewer.zoom,document_width:t.documentViewer.document_width,logged_in:t.user.isLoggedIn}}),(t=>({handle_delete:e=>{t(Object(v.p)(e))},handle_delete_working:()=>t(Object(v.x)(null)),handle_create_annotation:function(e,n,o,a){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return t(Object(b.a)({userAction:e,trackingData:{loc:"create_annotation",page:"doc"},focus_target:document.activeElement},v.b,[n,o,a,i]))},handle_update_working_note:()=>t(Object(v.y)()),open_share_quote_modal:e=>t(Object(f.i)({component_loader:()=>n.e(21).then(n.bind(null,"Fp96")),props_loading:()=>Promise.resolve({}),annotation:e})),open_note_modal:Object(_.b)(t)})))(m)},fuqr:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return l}));var o=n("Oaiu"),a=n("d11g");let i={};const r=t=>(i[t]||(i[t]=document.getElementById(`outer_page_${t}`)),i[t]),l=t=>()=>{t(Object(a.m)({userAction:o.a.USER_ACTIONS.ADD_NOTE,trackingData:{loc:"add_note",page:"doc"},focus_target:document.activeElement},Object(a.i)({component_loader:()=>n.e(15).then(n.bind(null,"Fcdy")),props_loading:()=>Promise.resolve({})})))}},w2u0:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var o=n("O94r"),a=n.n(o),i=n("q1tI"),r=n.n(i);n("CE+d");const l="auto__doc_page_shared_components_popover";function c(t){let{top:e,left:n,width:o,height:i,position:c,id:s,children:d}=t,p={top:e,left:n,width:o,height:i};return r.a.createElement("div",{id:s,className:a()(l,c),style:p},d)}c.defaultProps={position:"top",id:null,height:null}}}]);
//# sourceMappingURL=https://www.scribd.com/webpack/doc_page/14.bd42002cb289eb44db49.js.map